@using Microsoft.AspNetCore.Components.Forms
@inherits InputText

<style>
    :root {
        --error-red: #FF4D4F;
    }
    .invalid-icon {
        width: 1em;
        height: 1em;
        color: var(--error-red);
        margin-left: -1.5rem;
        pointer-events: none;
        background-image: url("data:image/svg+xml;utf8,<svg width='65' height='32' viewBox='0 0 65 32' fill='none' xmlns='http://www.w3.org/2000/svg'> <path d='M37.9826 23.609C43.7433 22.873 57.893 22.7214 57.7928 28.3476C57.7292 32.0617 51.0101 32.563 48.9635 30.9296C48.4256 30.0616 49.6799 29.4332 49.8242 28.5628C40.4399 20.6676 25.652 30.8685 13.6466 29.6386C6.6463 28.9198 -0.8528 22.7581 0.0787801 13.9191C1.28177 2.56899 18.2483 -4.65381 28.503 4.01404C28.2585 6.6523 27.4981 8.75019 25.7034 9.82847C25.3439 3.81599 21.2435 -0.651196 15.3679 2.50542C10.891 4.90895 5.85654 12.6526 6.96905 20.3791C7.58766 24.7044 11.402 27.4405 16.4438 27.7021C24.5248 28.1227 30.7525 24.5333 37.9826 23.609Z' fill='white'/> <path d='M15.5888 18.368C15.2905 19.307 15.2099 19.8864 15.3297 20.2483C15.4495 20.6077 15.8089 20.7471 17.1684 20.7471C18.9068 20.7471 19.6061 20.686 21.2443 18.4487C21.4644 18.2898 21.9436 18.3289 22.0439 18.5685C21.7236 19.5661 20.946 21.1848 20.5255 21.7227C19.9069 21.7031 19.1073 21.7031 18.2467 21.6836C17.408 21.6836 16.5082 21.664 15.6891 21.664H13.3932C12.4347 21.664 11.5349 21.6836 10.4762 21.7227C10.2561 21.6029 10.2365 21.1065 10.5153 21.0234L11.1755 20.9232C12.0337 20.7838 12.1951 20.6444 12.7745 18.7862L15.1121 11.3531C15.6109 9.73441 15.6304 9.35542 14.6133 9.19405L14.0949 9.11336C13.8944 8.99355 13.9751 8.49475 14.2343 8.41406C15.2734 8.45318 16.3126 8.47275 17.2711 8.47275C18.2295 8.47275 19.1293 8.45318 19.9876 8.41406C20.2272 8.53387 20.1881 9.03267 19.9264 9.11336L19.4081 9.21361C18.5499 9.37254 18.3909 9.49479 17.8114 11.3531L15.5888 18.368Z' fill='white'/> <path d='M27.5863 17.1532C26.9872 17.1532 26.9481 17.1337 26.7085 17.5518L25.4688 19.6888C25.1289 20.2878 25.0678 20.4883 25.0678 20.6081C25.0678 20.7671 25.2072 20.8673 25.5666 20.926L26.107 21.0067C26.3075 21.146 26.2488 21.6253 26.0067 21.7255C25.0067 21.6864 24.3685 21.6669 23.4883 21.6669C22.789 21.6669 22.1288 21.6864 21.5713 21.7255C21.2926 21.6277 21.2926 21.146 21.4711 21.0067L21.9503 20.926C22.9504 20.7671 23.19 20.5886 24.2096 19.1068C25.9872 16.471 27.8039 13.8328 29.5839 11.1945C30.2025 10.2556 30.782 9.39737 30.8627 9.01838C31.9825 8.93769 32.9214 8.16016 32.941 8.16016H32.9801C33.1806 8.16016 33.3396 8.2604 33.3396 8.47802C33.3396 12.0161 33.2002 15.5712 33.2002 19.1068C33.2002 20.5054 33.2002 20.8453 34.1587 20.9651L34.6379 21.0238C34.7968 21.1436 34.7577 21.6448 34.5768 21.7231C33.8384 21.684 32.7576 21.6644 31.76 21.6644C30.6426 21.6644 29.7428 21.684 29.1242 21.7231C28.865 21.6448 28.9042 21.1632 29.024 21.0238L29.4836 20.9651C30.403 20.8453 30.5008 20.5861 30.5228 20.1069L30.6035 17.5689C30.6231 17.1703 30.5839 17.1508 29.9629 17.1508H27.5863V17.1532ZM30.1218 16.0945C30.6011 16.0945 30.6206 16.0554 30.6426 15.5566L30.7624 13.0992C30.782 12.5002 30.7624 11.642 30.7624 11.2605H30.7209C30.4226 11.7398 30.0411 12.3779 29.5619 13.1188L27.9237 15.6568C27.6841 16.0162 27.7427 16.0969 28.3027 16.0969H30.1218V16.0945Z' fill='white'/> <path d='M39.6715 11.2606C40.1092 9.90116 40.1092 9.60285 39.471 9.44148L38.8329 9.2801C38.6519 9.12117 38.713 8.70061 38.9527 8.60037C40.1312 8.50256 41.3709 8.42188 42.9088 8.42188C44.547 8.42188 45.8454 8.60037 46.8039 9.06004C47.7232 9.51728 48.4616 10.4586 48.4616 11.757C48.4616 13.7351 46.7647 14.7742 45.2268 15.1728C44.8674 15.273 44.8674 15.3928 44.9065 15.6325C45.3661 18.2096 45.7451 20.0263 46.2244 20.5275C46.4836 20.8063 47.0435 20.9261 47.4225 21.0068C47.6034 21.1461 47.5423 21.486 47.3638 21.6254C46.9628 21.7232 46.3833 21.7452 45.5251 21.7452C44.8062 21.7452 44.2659 21.6474 43.9455 21.4444C43.547 21.1853 43.1656 20.6865 42.9675 19.6253L42.4076 16.7107C42.2682 16.031 42.0286 15.8305 41.4295 15.8305C40.9308 15.8305 40.8696 15.8892 40.7303 16.2902L39.9111 18.7891C39.3732 20.4053 39.3928 20.7476 40.4099 20.9456L40.9307 21.0459C41.1092 21.1461 41.0506 21.6058 40.8305 21.7232C39.8525 21.6841 38.8524 21.6645 37.8939 21.6645C36.9355 21.6645 36.0357 21.6841 35.0381 21.7232C34.8376 21.6034 34.818 21.085 35.0576 21.0459L35.6762 20.9456C36.5345 20.8063 36.6738 20.6449 37.2729 18.7891L39.6715 11.2606ZM43.6668 9.34123C42.9064 9.34123 42.8673 9.46104 42.6863 10.0014L41.3293 14.295C41.1484 14.8745 41.2877 14.9552 42.2095 14.9552C44.1069 14.9552 45.5446 13.2167 45.5446 11.4587C45.5446 10.422 45.1265 9.34123 43.6668 9.34123Z' fill='white'/> <path d='M52.5379 11.3594C53.0367 9.74076 53.0562 9.4009 52.0391 9.21996L51.4987 9.11971C51.2982 8.9999 51.3593 8.54022 51.599 8.42041C52.6968 8.45954 53.6968 8.4791 54.6553 8.4791C55.6162 8.4791 56.5136 8.45954 57.4916 8.42041C57.7117 8.54022 57.6726 9.03902 57.4134 9.11971L56.8339 9.2004C55.9757 9.32021 55.8143 9.50115 55.2348 11.3594L54.4157 13.9561C54.2983 14.3351 54.2983 14.5356 54.4964 14.5356C55.0954 14.5356 55.7556 13.9757 56.4965 13.2959L58.9318 10.9975C59.0712 10.8582 59.971 9.95838 60.1323 9.77744C60.2913 9.61851 60.3524 9.4987 60.3524 9.41801C60.3524 9.31776 60.2521 9.25908 60.0125 9.19795L59.5944 9.0977C59.433 8.93877 59.4135 8.53778 59.7142 8.41797C60.8316 8.45709 61.5114 8.47665 62.3696 8.47665C63.4088 8.47665 64.2279 8.45709 64.8074 8.41797C65.0665 8.49866 65.047 8.9779 64.8489 9.11727C64.3085 9.21751 63.7682 9.2982 63.0298 9.55738C62.152 9.87525 60.7118 10.9951 59.4746 12.0538L58.0956 13.2324C57.7557 13.5135 57.3547 13.9317 57.3547 14.093C57.3547 14.2128 57.4354 14.4916 57.5552 14.8339C58.2349 16.631 59.032 18.3891 59.812 20.1275C60.0712 20.707 60.372 20.8659 60.8512 20.9466L61.3916 21.0273C61.5505 21.1887 61.4918 21.6068 61.3304 21.7266C60.4111 21.6875 59.4722 21.6679 58.5332 21.6679C57.675 21.6679 56.8339 21.6875 55.8754 21.7266C55.6358 21.6068 55.6162 21.1471 55.8143 21.0273L56.4329 20.9075C56.8926 20.8268 56.9513 20.6288 56.873 20.3476C56.7752 19.9686 56.2935 18.8292 56.1542 18.4697L55.516 16.8927C55.0368 15.7337 54.8754 15.3351 54.4377 15.3351C53.978 15.3351 53.8582 15.7532 53.5599 16.6922L52.8997 18.7925C52.3814 20.4087 52.3814 20.7877 53.401 20.9491L53.9194 21.0298C54.0807 21.1496 54.0392 21.6093 53.8411 21.7291C52.7628 21.6899 51.7432 21.6704 50.7847 21.6704C49.8263 21.6704 48.9265 21.6899 47.9264 21.7291C47.7284 21.6093 47.7479 21.1129 48.0267 21.0298L48.6062 20.9295C49.4668 20.7901 49.6258 20.6508 50.2053 18.7925L52.5379 11.3594Z' fill='white'/> </svg>");
    }

    .clark-icon {
        width: 65px;
        height: 32px;
        background-image: url("data:image/svg+xml;utf8,<svg width='65' height='32' viewBox='0 0 65 32' fill='none' xmlns='http://www.w3.org/2000/svg'> <path d='M37.9826 23.609C43.7433 22.873 57.893 22.7214 57.7928 28.3476C57.7292 32.0617 51.0101 32.563 48.9635 30.9296C48.4256 30.0616 49.6799 29.4332 49.8242 28.5628C40.4399 20.6676 25.652 30.8685 13.6466 29.6386C6.6463 28.9198 -0.8528 22.7581 0.0787801 13.9191C1.28177 2.56899 18.2483 -4.65381 28.503 4.01404C28.2585 6.6523 27.4981 8.75019 25.7034 9.82847C25.3439 3.81599 21.2435 -0.651196 15.3679 2.50542C10.891 4.90895 5.85654 12.6526 6.96905 20.3791C7.58766 24.7044 11.402 27.4405 16.4438 27.7021C24.5248 28.1227 30.7525 24.5333 37.9826 23.609Z' fill='white'/> <path d='M15.5888 18.368C15.2905 19.307 15.2099 19.8864 15.3297 20.2483C15.4495 20.6077 15.8089 20.7471 17.1684 20.7471C18.9068 20.7471 19.6061 20.686 21.2443 18.4487C21.4644 18.2898 21.9436 18.3289 22.0439 18.5685C21.7236 19.5661 20.946 21.1848 20.5255 21.7227C19.9069 21.7031 19.1073 21.7031 18.2467 21.6836C17.408 21.6836 16.5082 21.664 15.6891 21.664H13.3932C12.4347 21.664 11.5349 21.6836 10.4762 21.7227C10.2561 21.6029 10.2365 21.1065 10.5153 21.0234L11.1755 20.9232C12.0337 20.7838 12.1951 20.6444 12.7745 18.7862L15.1121 11.3531C15.6109 9.73441 15.6304 9.35542 14.6133 9.19405L14.0949 9.11336C13.8944 8.99355 13.9751 8.49475 14.2343 8.41406C15.2734 8.45318 16.3126 8.47275 17.2711 8.47275C18.2295 8.47275 19.1293 8.45318 19.9876 8.41406C20.2272 8.53387 20.1881 9.03267 19.9264 9.11336L19.4081 9.21361C18.5499 9.37254 18.3909 9.49479 17.8114 11.3531L15.5888 18.368Z' fill='white'/> <path d='M27.5863 17.1532C26.9872 17.1532 26.9481 17.1337 26.7085 17.5518L25.4688 19.6888C25.1289 20.2878 25.0678 20.4883 25.0678 20.6081C25.0678 20.7671 25.2072 20.8673 25.5666 20.926L26.107 21.0067C26.3075 21.146 26.2488 21.6253 26.0067 21.7255C25.0067 21.6864 24.3685 21.6669 23.4883 21.6669C22.789 21.6669 22.1288 21.6864 21.5713 21.7255C21.2926 21.6277 21.2926 21.146 21.4711 21.0067L21.9503 20.926C22.9504 20.7671 23.19 20.5886 24.2096 19.1068C25.9872 16.471 27.8039 13.8328 29.5839 11.1945C30.2025 10.2556 30.782 9.39737 30.8627 9.01838C31.9825 8.93769 32.9214 8.16016 32.941 8.16016H32.9801C33.1806 8.16016 33.3396 8.2604 33.3396 8.47802C33.3396 12.0161 33.2002 15.5712 33.2002 19.1068C33.2002 20.5054 33.2002 20.8453 34.1587 20.9651L34.6379 21.0238C34.7968 21.1436 34.7577 21.6448 34.5768 21.7231C33.8384 21.684 32.7576 21.6644 31.76 21.6644C30.6426 21.6644 29.7428 21.684 29.1242 21.7231C28.865 21.6448 28.9042 21.1632 29.024 21.0238L29.4836 20.9651C30.403 20.8453 30.5008 20.5861 30.5228 20.1069L30.6035 17.5689C30.6231 17.1703 30.5839 17.1508 29.9629 17.1508H27.5863V17.1532ZM30.1218 16.0945C30.6011 16.0945 30.6206 16.0554 30.6426 15.5566L30.7624 13.0992C30.782 12.5002 30.7624 11.642 30.7624 11.2605H30.7209C30.4226 11.7398 30.0411 12.3779 29.5619 13.1188L27.9237 15.6568C27.6841 16.0162 27.7427 16.0969 28.3027 16.0969H30.1218V16.0945Z' fill='white'/> <path d='M39.6715 11.2606C40.1092 9.90116 40.1092 9.60285 39.471 9.44148L38.8329 9.2801C38.6519 9.12117 38.713 8.70061 38.9527 8.60037C40.1312 8.50256 41.3709 8.42188 42.9088 8.42188C44.547 8.42188 45.8454 8.60037 46.8039 9.06004C47.7232 9.51728 48.4616 10.4586 48.4616 11.757C48.4616 13.7351 46.7647 14.7742 45.2268 15.1728C44.8674 15.273 44.8674 15.3928 44.9065 15.6325C45.3661 18.2096 45.7451 20.0263 46.2244 20.5275C46.4836 20.8063 47.0435 20.9261 47.4225 21.0068C47.6034 21.1461 47.5423 21.486 47.3638 21.6254C46.9628 21.7232 46.3833 21.7452 45.5251 21.7452C44.8062 21.7452 44.2659 21.6474 43.9455 21.4444C43.547 21.1853 43.1656 20.6865 42.9675 19.6253L42.4076 16.7107C42.2682 16.031 42.0286 15.8305 41.4295 15.8305C40.9308 15.8305 40.8696 15.8892 40.7303 16.2902L39.9111 18.7891C39.3732 20.4053 39.3928 20.7476 40.4099 20.9456L40.9307 21.0459C41.1092 21.1461 41.0506 21.6058 40.8305 21.7232C39.8525 21.6841 38.8524 21.6645 37.8939 21.6645C36.9355 21.6645 36.0357 21.6841 35.0381 21.7232C34.8376 21.6034 34.818 21.085 35.0576 21.0459L35.6762 20.9456C36.5345 20.8063 36.6738 20.6449 37.2729 18.7891L39.6715 11.2606ZM43.6668 9.34123C42.9064 9.34123 42.8673 9.46104 42.6863 10.0014L41.3293 14.295C41.1484 14.8745 41.2877 14.9552 42.2095 14.9552C44.1069 14.9552 45.5446 13.2167 45.5446 11.4587C45.5446 10.422 45.1265 9.34123 43.6668 9.34123Z' fill='white'/> <path d='M52.5379 11.3594C53.0367 9.74076 53.0562 9.4009 52.0391 9.21996L51.4987 9.11971C51.2982 8.9999 51.3593 8.54022 51.599 8.42041C52.6968 8.45954 53.6968 8.4791 54.6553 8.4791C55.6162 8.4791 56.5136 8.45954 57.4916 8.42041C57.7117 8.54022 57.6726 9.03902 57.4134 9.11971L56.8339 9.2004C55.9757 9.32021 55.8143 9.50115 55.2348 11.3594L54.4157 13.9561C54.2983 14.3351 54.2983 14.5356 54.4964 14.5356C55.0954 14.5356 55.7556 13.9757 56.4965 13.2959L58.9318 10.9975C59.0712 10.8582 59.971 9.95838 60.1323 9.77744C60.2913 9.61851 60.3524 9.4987 60.3524 9.41801C60.3524 9.31776 60.2521 9.25908 60.0125 9.19795L59.5944 9.0977C59.433 8.93877 59.4135 8.53778 59.7142 8.41797C60.8316 8.45709 61.5114 8.47665 62.3696 8.47665C63.4088 8.47665 64.2279 8.45709 64.8074 8.41797C65.0665 8.49866 65.047 8.9779 64.8489 9.11727C64.3085 9.21751 63.7682 9.2982 63.0298 9.55738C62.152 9.87525 60.7118 10.9951 59.4746 12.0538L58.0956 13.2324C57.7557 13.5135 57.3547 13.9317 57.3547 14.093C57.3547 14.2128 57.4354 14.4916 57.5552 14.8339C58.2349 16.631 59.032 18.3891 59.812 20.1275C60.0712 20.707 60.372 20.8659 60.8512 20.9466L61.3916 21.0273C61.5505 21.1887 61.4918 21.6068 61.3304 21.7266C60.4111 21.6875 59.4722 21.6679 58.5332 21.6679C57.675 21.6679 56.8339 21.6875 55.8754 21.7266C55.6358 21.6068 55.6162 21.1471 55.8143 21.0273L56.4329 20.9075C56.8926 20.8268 56.9513 20.6288 56.873 20.3476C56.7752 19.9686 56.2935 18.8292 56.1542 18.4697L55.516 16.8927C55.0368 15.7337 54.8754 15.3351 54.4377 15.3351C53.978 15.3351 53.8582 15.7532 53.5599 16.6922L52.8997 18.7925C52.3814 20.4087 52.3814 20.7877 53.401 20.9491L53.9194 21.0298C54.0807 21.1496 54.0392 21.6093 53.8411 21.7291C52.7628 21.6899 51.7432 21.6704 50.7847 21.6704C49.8263 21.6704 48.9265 21.6899 47.9264 21.7291C47.7284 21.6093 47.7479 21.1129 48.0267 21.0298L48.6062 20.9295C49.4668 20.7901 49.6258 20.6508 50.2053 18.7925L52.5379 11.3594Z' fill='white'/> </svg>");
    }


</style>

@if (ShouldShowComponent)
{
    <div class="form-group @OuterClass">

        <FormLabel Id=@_id FieldIdentifier=@_fieldIdentifier Attributes=@_attributes Label=@Label/>

        @if (ShowEditor)
        {

            @if (CssClass.Contains("invalid"))
            {
                <input style="padding-right: 2rem" @bind="CurrentValue" disabled=@IsDisabled id=@_id data-test-id=@_id class=@CssClass placeholder=@Placeholder/>
                <svg aria-hidden="true" class="icon invalid-icon" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
                    <path d='M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z'></path>
                </svg>
            }
            else
            {
                <input  @bind="CurrentValue" disabled=@IsDisabled id=@_id data-test-id=@_id class=@CssClass placeholder=@Placeholder/>
            }
        }
        else
        {
            @if (!string.IsNullOrWhiteSpace(MaskText))
            {
                <!-- Masks with eye icons to show/hide masked text in EditMode  -->
                @if (!_showMaskedValue)
                {
                    <div>
                        <span class="form-text">@GetMaskValue()</span>
                        <span role="img" aria-hidden="true" aria-label="eye-invisible" class="anticon anticon-eye-invisible" @onclick=@(() => _showMaskedValue = !_showMaskedValue)>
                            <svg viewBox="64 64 896 896" focusable="false" data-icon="eye-invisible" width="1em" height="1em" fill="currentColor" aria-hidden="true">
                                <path d="M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"></path><path d="M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"></path>
                            </svg>
                        </span>
                    </div>
                }
                else
                {
                    <div>
                        <span class="form-text">@Value </span>
                        <span aria-hidden="true" role="img" aria-label="eye" class="anticon anticon-eye" @onclick=@(() => _showMaskedValue = !_showMaskedValue)>
                            <svg  viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true">
                                <path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path>
                            </svg>
                        </span>
                    </div>
                }
            }
            else
            {
                @if (Url != null)
                {
                    <a href=@Url target=@UrlTarget class="form-text-link @CssClass" style="display: block">@Value</a>
                }
                else
                {
                    <div class="form-text @CssClass">@Value</div>
                }
            }
        }

        <FieldValidationDisplay FieldIdentifier=_fieldIdentifier Attributes=_attributes/>
    </div>
}