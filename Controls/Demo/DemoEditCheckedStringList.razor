@using Microsoft.AspNetCore.Components.Forms

<h1>EditCheckedStringList Demo</h1>

<EditForm Model="@_model" class="flex-row flex-wrap" @ref=_form>
    <ObjectGraphDataAnnotationsValidator />

    <div class="demo-section">
        <h2>Basic Usage</h2>
        <EditCheckedStringList @bind-Value="_model.BasicList"
                               Label="Basic Example"
                               Options="@_basicItems"
                               Field="@(() => _model.BasicList)" />
    </div>

    <div class="demo-section">
        <h2>Label Variations</h2>
        <EditCheckedStringList @bind-Value="_model.WithHtmlLabel"
                               Label="Label with <em style='color: magenta'>HTML</em> content"
                               Options="@_basicItems"
                               Field="@(() => _model.WithHtmlLabel)" />
        <EditCheckedStringList @bind-Value="_model.NoLabel"
                               Options="@_basicItems"
                               Field="@(() => _model.NoLabel)" />
    </div>

    <div class="demo-section">
        <h2>Custom Styling</h2>
        <EditCheckedStringList @bind-Value="_model.CustomClass"
                               Label="With Custom CSS Class"
                               Options="@_basicItems"
                               ContainerClass="my-custom-container"
                               LabelClass="my-custom-checklist"
                               Field="@(() => _model.CustomClass)" />
    </div>

    <div class="demo-section">
        <h2>State Options</h2>
        <EditCheckedStringList @bind-Value="_model.DisabledField"
                               Label="Disabled State"
                               Options="@_basicItems"
                               IsDisabled="true"
                               Field="@(() => _model.DisabledField)" />

        <EditCheckedStringList @bind-Value="_model.RequiredField"
                               Label="Required Field"
                               Options="@_basicItems"
                               Field="@(() => _model.RequiredField)" />
    </div>

</EditForm>

@code {
    private readonly DemoEditCheckedStringListModel _model = new();
    private readonly List<string> _basicItems = new() { "Apple", "Banana", "Orange", "Grape", "Mango" };

    EditForm _form;
    protected override void OnAfterRender(bool firstRender) => _form.EditContext!.Validate();
    public class DemoEditCheckedStringListModel
    {
        public List<string> BasicList { get; set; } = [];
        public List<string> WithHtmlLabel { get; set; } = new();
        public List<string> NoLabel { get; set; } = new();
        public List<string> CustomClass { get; set; } = new();

        [Required(ErrorMessage = "Please select at least one item")]
        public List<string> RequiredField { get; set; } = new();

        public List<string> DisabledField { get; set; } = new();
    }
}

<style>
    .demo-section {
        margin: 1rem;
        padding: 1rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        min-width: 300px;
    }

    .my-custom-container {
        background-color: #f5f5f5;
        padding: 10px;
        border-radius: 4px;
    }

    .my-custom-checklist {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

        .my-custom-checklist input[type="checkbox"] {
            transform: scale(1.2);
            margin-right: 8px;
            accent-color: lime;
        }
</style>